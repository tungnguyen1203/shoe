<div class="container-fluid sb-nav-fixed">
  <%= render 'admin/dashboard/top_nav' %>
  <div id="layoutSidenav">
    <%= render 'admin/dashboard/layout_side_nav' %>
    <div id="layoutSidenav_content">
      <main>
        <div class="container-fluid px-4">
          <% flash.each do |message_type, message| %>
          <div class="alert alert-<%= message_type %>"><%= message %></div>
          <% end %>
          <div class="row mt-4 ">

            <%= form_for  @product,url: admin_product_path,html:{class:"d-flex"}  do |f| %>
            <div class="col-6">
              <div class="mb-3">
                <label for="exampleInputEmail1" class="form-label">Tên sản phẩm</label>
                <%= f.text_field :name,required: true, class: "form-control" %>
                <div id="emailHelp" class="form-text">We'll never share your email with anyone else.</div>
              </div>
              <div class="mb-3">
                <label for="exampleInputPassword1" class="form-label">Giá</label>
                <%= f.number_field :price,required: true, class: "form-control", min:'250000', value:'250000' %>
              </div>
              <div class="mb-3">
                <label for="exampleInputPassword1" class="form-label">Màu</label>
                <%= f.text_field :color,required: true, class: "form-control" %>
              </div>
              <div class="mb-3">
                <label for="exampleInputPassword1" class="form-label">Size</label>
                <%= f.text_field :size,required: true, class: "form-control" %>
              </div>
              <div class="mb-3">
                <label for="exampleInputPassword1" class="form-label">Mô tả</label>
                <%= f.text_area :description,required: true, class: "form-control" %>
              </div>
              <button type="submit" class="btn btn-primary">Lưu</button>
            </div>
            <div class="col-6">
              <div class="mb-3">
                <label for="exampleInputPassword1" class="form-label">Chọn Loại sản phẩm</label>
                <%= f.select(:category_id, @categories.pluck(:name, :id), {}, {:class => 'selectpicker form-select'}) %>
              </div>
              <div class="mb-3">
                <label id="image-label" class="image-hover" for="article_thumbnail">
                  <%= image_tag "logo.png", id: "thumbnail-img", size: "200x200" %>
                </label>
                <%= f.file_field :image, onchange:"loadFile(event)"  %>
              </div>
            </div>
            <% end %>
          </div>
        </div>
      </main>
      <%= render 'admin/dashboard/footer' %>
    </div>
  </div>
</div>
<script>
  var loadFile = function (event) {
    var output = document.getElementById('thumbnail-img');
    output.src = URL.createObjectURL(event.target.files[0]);
    output.onload = function () {
      URL.revokeObjectURL(output.src) // free memory
    }
  };
</script>